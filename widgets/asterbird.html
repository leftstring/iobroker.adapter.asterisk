<link rel="stylesheet" href="widgets/doorbird/css/style.css"/>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<script type="text/javascript" src="widgets/doorbird/js/SIPml-api.js"></script>
<script type="text/javascript" src="widgets/doorbird/js/SIPCommunication.js"></script>
<script type="text/javascript" src="widgets/doorbird/js/doorbird.js"></script>

<script id="tpldoorbirdWidget" type="text/ejs" class="vis-tpl" data-vis-prev='' data-vis-set="doorbird" data-vis-type="widget" data-vis-name="Doorbird" data-vis-attrs="adapterInstance/id;">
	<div class="vis-widget <%== this.data.attr('class') %>" style="width:200px; height:200px;" id="<%= this.data.attr('wid') %>">
        <div class="widget-container vis-widget-body <%== this.data.attr('class') %>">
            <h1 class="header">Türklingel</h1>
            <div class="video-container">
                <audio id="audioRemote" <%= function(element) {  vis.binds.doorbird.initSIP(element); } %>/>
                <img id="videoElement" class="video-content"/>
            </div>
            <div class="button-container">
                <div class="button-wrapper">
                    <button onclick="vis.binds.doorbird.acceptCall()">
						<i class="material-icons">call</i>
						<span>Antworten</span>
					</button>
                </div>
                <div class="button-wrapper">
                    <button onclick="vis.binds.doorbird.volumeDown()">
						<i class="material-icons">volume_down</i>
                    </button>
                    <input id="volume-slider" type="range" min="0.1" max="1" step="0.1" value="0.5" oninput="vis.binds.doorbird.onVolumeChanged()">
                    <button onclick="vis.binds.doorbird.volumeUp()">
						<i class="material-icons">volume_up</i>
                    </button>
                </div>
                <div class="button-wrapper">
                    <button onclick="vis.binds.doorbird.openDoor()">
						<i class="material-icons">lock_open</i>
						<span>Tür öffnen</span>
					</button>
                </div>
            </div>
		</div>
	</div>
	<% vis.binds.doorbird.init(this.data.adapterInstance, this.data.wid);  %>
</script>
